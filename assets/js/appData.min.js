const a=this;a.func={};a.cache={};a.cache.grid={};a.browser=(()=>{return{userAgent:navigator.userAgent,platform:navigator.platform,isSupportWebp:(()=>{const elem=document.createElement("canvas");if(!!(elem.getContext&&elem.getContext("2d"))){return elem.toDataURL("image/webp").indexOf("data:image/webp")==0}return false})()}})();a.makeTopHeader=async()=>{const dom=a.dom.querySelector(".topHeader");if(!dom)return false;dom.pageTitile=dom.querySelector(".title");dom.menu=dom.querySelector(".menu");dom.setTitle=async title=>{dom.pageTitile.innerHTML=title};return true};a.makeHeader=async()=>{const dom=a.dom.querySelector(".header");if(!dom)return false;dom.mobileMenu=dom.querySelector(".mobileMenu");dom.menu=dom.querySelector("nav.menu ul");dom.iconSize=dom.menu.querySelector("li a svg").getBoundingClientRect().width;dom.menu.querySelectorAll("li a").forEach(a=>{a.icon=a.querySelector("svg");dom.menu[a.id]=a;a.addEventListener("mouseover",()=>{a.icon.style.width=dom.iconSize+6+"px";a.icon.style.margin="-3px";a.icon.style.fill="var(--menuIconHoverColor)"});a.addEventListener("mouseout",()=>{a.icon.style.width=dom.iconSize+"px";a.icon.style.margin="auto";a.icon.style.fill="var(--menuIconColor)"})});return true};a.makeShopPage=async()=>{const dom=a.dom.querySelector(".shop");if(!dom)return false;await Promise.all([Promise.resolve().then(()=>{dom.title=dom.querySelector(".header h1")}),Promise.resolve().then(()=>{dom.shortDescription=dom.querySelector(".header p")}),Promise.resolve().then(()=>{dom.description=dom.querySelector("#description")}),Promise.resolve().then(()=>{dom.filters=dom.querySelector(".filters");dom.filters.style.removeProperty("display")}),Promise.resolve().then(()=>{dom.products=dom.querySelector("#products .grid");dom.products.querySelectorAll("a").forEach(async(itemDom,i)=>{const item={id:itemDom.getAttribute("id")||null,brand:itemDom.querySelectorAll("h2 span")[0]?.innerHTML||null,name:itemDom.querySelectorAll("h2 span")[1]?.innerHTML||null,shortDescription:itemDom.querySelector("p.shortDescription").innerHTML,status:itemDom.querySelector("div.dataContainer")?.getAttribute("status")||null,salePrice:itemDom.querySelector("div.dataContainer span.salePrice")?.innerHTML||null,regularPrice:itemDom.querySelector("div.dataContainer span.regularPrice")?.innerHTML||null,sku:itemDom.querySelector("div.skuContainer p.sku")?.innerHTML||null,tty:itemDom.querySelector("div.dataContainer")?.getAttribute("tty")||null};item.images={};itemDom.querySelector("picture").querySelectorAll("source").forEach(img=>{item.images[img.getAttribute("source")]=img.getAttribute("srcset")});a.cache.grid[item.id]=item;itemDom.querySelector(".skuContainer .itemCounter").innerHTML="Item # "+(i+1);const statusDom=itemDom.querySelector("div.dataContainer p.info");itemDom.addEventListener("mouseover",()=>{const picture=itemDom.querySelector("picture");if(picture.classList.contains("hover"))return;picture.classList.replace("main","hover");picture.querySelectorAll("source").forEach(imgSource=>{const source=imgSource.getAttribute("source");const[attr,newAttr]=["main-webp","main"].includes(source)?["srcset","main-srcset"]:["hover-srcset","srcset"];const src=imgSource.getAttribute(attr);if(src){imgSource.setAttribute(newAttr,src);imgSource.removeAttribute(attr)}});statusDom.innerHTML=item.status==="in_stock"?"Order now":item.status==="pre_order"?"Pre-order":""});itemDom.addEventListener("mouseout",()=>{const picture=itemDom.querySelector("picture");if(picture.classList.contains("main"))return;picture.classList.replace("hover","main");picture.querySelectorAll("source").forEach(imgSource=>{const source=imgSource.getAttribute("source");const[attr,newAttr]=["main-webp","main"].includes(source)?["main-srcset","srcset"]:["srcset","hover-srcset"];const src=imgSource.getAttribute(attr);if(src){imgSource.setAttribute(newAttr,src);imgSource.removeAttribute(attr)}});statusDom.innerHTML=""})})}),Promise.resolve().then(()=>{dom.productsFooter=dom.querySelector("#products .gridFooter")}),Promise.resolve().then(()=>{})]);return true};